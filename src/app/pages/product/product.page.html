

<ion-content [fullscreen]="true">

  <div class="close-page" (click)="goBack()">
    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path id="Vector" d="M21 21L1 1M21 1L1 21" stroke="#222222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      
  </div>

  <img *ngIf="product" [src]="product.image" alt="" class="product-image">


  <div class="padding-page" *ngIf="product">

    <div class="image-legend">Campos del Abuelo Juan</div>

    <div class="section-title">{{product.name}}</div>

    <div>{{product.variety}}</div>


    <ion-list>

      <div class="product-info">
        <div class="product-info-label">
          <svg width="27" height="21" viewBox="0 0 27 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="path-1-inside-1_451_4945" fill="white">
            <rect x="3.28128" y="15.7998" width="19.6875" height="2" rx="0.92677"/>
            </mask>
            <rect x="3.28128" y="15.7998" width="19.6875" height="2" rx="0.92677" fill="#FCFCFC" stroke="#C95807" stroke-width="2" mask="url(#path-1-inside-1_451_4945)"/>
            <mask id="path-2-inside-2_451_4945" fill="white">
            <rect y="7" width="26.25" height="14" rx="0.92677"/>
            </mask>
            <rect y="7" width="26.25" height="14" rx="0.92677" fill="#FCFCFC" stroke="#C95807" stroke-width="4" mask="url(#path-2-inside-2_451_4945)"/>
            <mask id="path-3-inside-3_451_4945" fill="white">
            <rect x="3.28125" y="12.6001" width="19.6875" height="2.00025" rx="0.927472"/>
            </mask>
            <rect x="3.28125" y="12.6001" width="19.6875" height="2.00025" rx="0.927472" fill="#FCFCFC" stroke="#C95807" stroke-width="2.00025" mask="url(#path-3-inside-3_451_4945)"/>
            <mask id="path-4-inside-4_451_4945" fill="white">
            <rect x="3.28125" y="15.8027" width="19.6875" height="2.00025" rx="0.927472"/>
            </mask>
            <rect x="3.28125" y="15.8027" width="19.6875" height="2.00025" rx="0.927472" fill="#FCFCFC" stroke="#C95807" stroke-width="2.00025" mask="url(#path-4-inside-4_451_4945)"/>
            <path d="M5 9.5C5 9.22386 5.22386 9 5.5 9H20.5C20.7761 9 21 9.22386 21 9.5C21 9.77614 20.7761 10 20.5 10H5.5C5.22386 10 5 9.77614 5 9.5Z" fill="#FCFCFC" stroke="#C95807" stroke-width="1.5"/>
            <rect x="6" y="6" width="14" height="3" fill="#FCFCFC"/>
          </svg>
            
            
          <div>Unités restantes :</div>
        </div>
        <div class="product-info-value">{{product.stock}}+</div>
      </div>

      <div class="product-info">
        <div class="product-info-label">
          <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="Delivery Truck">
            <path id="Vector" d="M20.613 7.97408L20.6129 7.97389L19.5837 6.545C19.5836 6.54487 19.5835 6.54474 19.5834 6.54462C19.3298 6.18862 18.9951 5.89819 18.6069 5.69739C18.2185 5.49652 17.7879 5.39115 17.3507 5.39H17.35H13.22V3.5C13.22 2.77065 12.9303 2.07118 12.4145 1.55546C11.8988 1.03973 11.1993 0.75 10.47 0.75L3.5 0.749999L3.4993 0.750001C2.77077 0.752032 2.07265 1.04234 1.5575 1.5575C1.04234 2.07265 0.752032 2.77077 0.75 3.4993V3.5V13.44C0.75 13.9041 0.934374 14.3492 1.26256 14.6774C1.59075 15.0056 2.03587 15.19 2.5 15.19H3.5125C3.63086 15.7001 3.90753 16.162 4.30565 16.5079C4.75903 16.9018 5.33941 17.1187 5.94 17.1187C6.54059 17.1187 7.12097 16.9018 7.57435 16.5079C7.97247 16.162 8.24914 15.7001 8.3675 15.19H13.5125C13.6309 15.7001 13.9075 16.162 14.3056 16.5079C14.759 16.9018 15.3394 17.1187 15.94 17.1187C16.5406 17.1187 17.121 16.9018 17.5744 16.5079C17.9725 16.162 18.2491 15.7001 18.3675 15.19H19.38C19.8441 15.19 20.2892 15.0056 20.6174 14.6774C20.9456 14.3492 21.13 13.9041 21.13 13.44L21.13 9.57L21.13 9.56908C21.1279 8.99656 20.9472 8.43897 20.613 7.97408ZM5.94 15.62C5.74222 15.62 5.54888 15.5613 5.38443 15.4515C5.21998 15.3416 5.09181 15.1854 5.01612 15.0027C4.94043 14.82 4.92063 14.6189 4.95921 14.4249C4.9978 14.2309 5.09304 14.0527 5.23289 13.9129C5.37275 13.773 5.55093 13.6778 5.74491 13.6392C5.93889 13.6006 6.13996 13.6204 6.32268 13.6961C6.50541 13.7718 6.66159 13.9 6.77147 14.0644C6.88135 14.2289 6.94 14.4222 6.94 14.62C6.94 14.8852 6.83464 15.1396 6.64711 15.3271C6.45957 15.5146 6.20522 15.62 5.94 15.62ZM11.72 13.69H8.26544C8.09084 13.2565 7.798 12.8793 7.41865 12.6022C6.98938 12.2887 6.47157 12.1197 5.94 12.1197C5.40843 12.1197 4.89062 12.2887 4.46135 12.6022C4.082 12.8793 3.78916 13.2565 3.61456 13.69H2.5C2.4337 13.69 2.37011 13.6637 2.32322 13.6168C2.27634 13.5699 2.25 13.5063 2.25 13.44V3.5C2.25 3.16848 2.3817 2.85054 2.61612 2.61612C2.85054 2.3817 3.16848 2.25 3.5 2.25H10.47C10.8015 2.25 11.1195 2.3817 11.3539 2.61612C11.5883 2.85054 11.72 3.16848 11.72 3.5V13.69ZM15.94 15.62C15.7422 15.62 15.5489 15.5613 15.3844 15.4515C15.22 15.3416 15.0918 15.1854 15.0161 15.0027C14.9404 14.82 14.9206 14.6189 14.9592 14.4249C14.9978 14.2309 15.093 14.0527 15.2329 13.9129C15.3727 13.773 15.5509 13.6778 15.7449 13.6392C15.9389 13.6006 16.14 13.6204 16.3227 13.6961C16.5054 13.7718 16.6616 13.9 16.7715 14.0644C16.8814 14.2289 16.94 14.4222 16.94 14.62C16.94 14.8852 16.8346 15.1396 16.6471 15.3271C16.4596 15.5146 16.2052 15.62 15.94 15.62ZM19.63 13.44C19.63 13.5063 19.6037 13.5699 19.5568 13.6168C19.5099 13.6637 19.4463 13.69 19.38 13.69H18.2654C18.0908 13.2565 17.798 12.8793 17.4187 12.6022C16.9894 12.2887 16.4716 12.1197 15.94 12.1197C15.4084 12.1197 14.8906 12.2887 14.4613 12.6022C14.082 12.8793 13.7892 13.2565 13.6146 13.69H13.22V6.89H17.3489C17.5479 6.89175 17.7437 6.94023 17.9205 7.03152C18.0976 7.12297 18.2506 7.25481 18.3673 7.41637L19.3958 8.84417C19.396 8.84446 19.3962 8.84474 19.3964 8.84503C19.5462 9.05769 19.6277 9.31096 19.63 9.57111V13.44Z" fill="#C95807" stroke="#C95807" stroke-width="0.5"/>
            <path id="Vector_2" d="M16.969 9.14014H14.969C14.8364 9.14014 14.7092 9.08746 14.6154 8.99369C14.5217 8.89992 14.469 8.77274 14.469 8.64014C14.469 8.50753 14.5217 8.38035 14.6154 8.28658C14.7092 8.19281 14.8364 8.14014 14.969 8.14014H16.969C17.1016 8.14014 17.2288 8.19281 17.3225 8.28658C17.4163 8.38035 17.469 8.50753 17.469 8.64014C17.469 8.77274 17.4163 8.89992 17.3225 8.99369C17.2288 9.08746 17.1016 9.14014 16.969 9.14014Z" fill="white"/>
            </g>
          </svg>
            
          <div>Prochaine récolte :</div>
        </div>
        <div class="product-info-value">{{product.next_harvest | date: 'd/MM/yyyy'}}</div>
      </div>

      <div class="product-info">
        <div class="product-info-label">
          <svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g id="Vector">
            <path id="Vector_2" d="M5 3H4.2C3.08 3 2.52 3 2.092 3.218C1.71569 3.40974 1.40974 3.71569 1.218 4.092C1 4.52 1 5.08 1 6.2V7M5 3H13M5 3V1M1 7V15.8C1 16.92 1 17.48 1.218 17.908C1.40974 18.2843 1.71569 18.5903 2.092 18.782C2.519 19 3.079 19 4.197 19H13.803C14.921 19 15.48 19 15.907 18.782C16.284 18.59 16.59 18.284 16.782 17.908C17 17.48 17 16.922 17 15.804V7M1 7H17M13 3H13.8C14.92 3 15.48 3 15.907 3.218C16.284 3.41 16.59 3.715 16.782 4.092C17 4.519 17 5.079 17 6.197V7M13 3V1M13 15H13.002V15.002H13V15ZM9 15H9.002V15.002H9V15ZM5 15H5.002V15.002H5V15ZM13.002 11V11.002H13V11H13.002ZM9 11H9.002V11.002H9V11ZM5 11H5.002V11.002H5V11Z" stroke="#C95807" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </g>
            </svg>
          <div >Jours restant :</div>
        </div>
        <div class="product-info-value">{{dayLeft(product.limit_date)}}</div>
      </div>


      <div class="select-product">

        <div class="flex-row">
          <div class="quantity-button" (click)="removeQuantity()">
            <svg width="13" height="14" viewBox="0 0 11 5" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.10298 0.971235V4.31818H0.68679V0.971235H9.10298Z" fill="#C95807"/>
              </svg>
              
          </div>
  
          <div class="quantity-info" *ngIf="order">
            {{order.quantity}}
          </div>
  
          <div class="quantity-button" (click)="addQuantity()">
            <svg width="13" height="14" viewBox="0 0 13 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4.79155 13.0945V0.239347H8.36932V13.0945H4.79155ZM0.148438 8.46023V4.88246H13.0036V8.46023H0.148438Z" fill="#C95807"/>
              </svg>
          </div>
        </div>

        <div class="weight-product">
          Cageot de ({{product.weight}}kg) ({{product.price}}€/kg)
        </div>
        
      </div>



    </ion-list>

    <div (click)="goToModifyProduct()" class="disconnect-button">
      <!-- <ion-icon name="log-out-outline" slot="start"></ion-icon> -->
      <ion-label>Modifier produit</ion-label>
    </div>

    <!-- <div class="product-section">
      <div>Saison : hiver</div>
      <div>Prochaine récolte : Octobre</div>
      <div>Quantité restante : 1200</div>

      <div class="flex-row">
        <div>
          <div>14€ la cagette (8kg)</div>
          <div>Soit 1,20€/kg</div>
        </div>
        
        <ion-button  (click)="addProductInBasket()">Ajouter au panier</ion-button>
      </div>
    </div> -->
  </div>

  <div class="navbar" *ngIf="product && order">
    <div class="total-price">
      {{product.price * order.quantity}}€
    </div>

    <ion-button class="middle-button" (click)="addProductInBasket()">Ajouter au panier</ion-button>

  </div>
</ion-content>
